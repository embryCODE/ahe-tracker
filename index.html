<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <title>Agnostic Healthy Eating Tracker</title>

  <link rel="stylesheet" href="css/style.css">

  <script src="https://unpkg.com/vue"></script>

</head>
<body>

<h1>Agnostic Healthy Eating Tracker</h1>
Eat each type of “essential” food more often than any type of “recommended” food. Eat each type of “recommended”
food more often than any type of “acceptable” food. For extra credit, eat each of the ten food types in the
diet-quality hierarchy more often than any food type of lower rank.

<div id="app">

  <food-list
    v-bind:foods="foods"
    v-on:increase-counter="increaseCounter"
    v-on:decrease-counter="decreaseCounter">
  </food-list>

</div>

<script type="text/x-template" id="food-list-template">
  <div>
    <ul>
      <li v-for="food in foods"
          :key="food.foodName">
        <span class="food-name">{{food.foodName}} ({{food.foodCategory}})</span>
        <span class="counter-button" v-on:click="emitDecreaseCounter(food.foodName)"><</span>
        <span class="counter">{{food.counter}}</span>
        <span class="counter-button" v-on:click="emitIncreaseCounter(food.foodName)">></span>
      </li>
    </ul>
  </div>
</script>

<script>

  var foodListComponent = {
    'food-list': {
      props: [
        'foods'
      ],
      template: '#food-list-template',
      methods: {
        emitIncreaseCounter: function (foodName) {
          this.$emit('increase-counter', foodName)
        },
        emitDecreaseCounter: function (foodName) {
          this.$emit('decrease-counter', foodName)
        }
      }
    }
  }

  var AHE = new Vue({
    el: '#app',
    name: 'AHE Tracker',
    components: foodListComponent,
    data: {
      foods: [
        {
          foodName: 'Vegetables',
          foodCategory: 'Essential',
          counter: 0
        },
        {
          foodName: 'Fruits',
          foodCategory: 'Essential',
          counter: 0
        },
        {
          foodName: 'Nuts, Seeds, and Healthy Oils',
          foodCategory: 'Recommended',
          counter: 0
        },
        {
          foodName: 'Fish and High-Quality Meats',
          foodCategory: 'Recommended',
          counter: 0
        },
        {
          foodName: 'Whole Grains',
          foodCategory: 'Recommended',
          counter: 0
        },
        {
          foodName: 'Dairy',
          foodCategory: 'Recommended',
          counter: 0
        },
        {
          foodName: 'Refined Grains',
          foodCategory: 'Acceptable',
          counter: 0
        },
        {
          foodName: 'Other Foods',
          foodCategory: 'Acceptable',
          counter: 0
        },
        {
          foodName: 'Low-Quality Meats',
          foodCategory: 'Acceptable',
          counter: 0
        },
        {
          foodName: 'Sweets',
          foodCategory: 'Acceptable',
          counter: 0
        },
        {
          foodName: 'Fried Foods',
          foodCategory: 'Acceptable',
          counter: 0
        }
      ]
    },
    methods: {
      increaseCounter: function (foodName) {
        this.foods.forEach(function (food) {
          if (food.foodName === foodName) {
            food.counter += .5
          }
        })
      },
      decreaseCounter: function (foodName) {
        this.foods.forEach(function (food) {
          if (food.foodName === foodName) {
            food.counter -= .5
          }
        })
      }
    }
  })

</script>

</body>
</html>